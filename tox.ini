[tox]
env_list = py311, py312
min_version = 4.0

[testenv]
description = Run tests with pytest
package = wheel
wheel_build_env = .pkg
deps = 
    pytest>=7.0.0
    pytest-env>=1.1.0
commands = pytest {posargs}

[testenv:py311]
base_python = python3.11

[testenv:py312] 
base_python = python3.12

[testenv:coverage]
description = Run tests with coverage
deps = 
    pytest>=7.0.0
    pytest-env>=1.1.0
    pytest-cov
commands = pytest --cov=src --cov-report=html --cov-report=term {posargs}

[testenv:lint]
description = Run linting checks
deps = 
    ruff
    mypy
commands = 
    ruff check src tests
    ruff format --check src tests
    mypy src

[testenv:format]
description = Format code
deps = 
    ruff
commands = 
    ruff format src tests
    ruff check --fix src tests